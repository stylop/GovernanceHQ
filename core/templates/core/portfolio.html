{% extends "base.html" %}
{% load static %}
{% block title %} Portfolio - GovernanceHQ {% endblock %}

{% block content %}
<main class="main">
<br><br><br>
  <!-- Page Title -->
  <div class="page-title" data-aos="fade">
    <div class="container">
      <nav class="breadcrumbs">
        <ol>
          <li><a href="{% url 'home' %}">Home</a></li>
          <li class="current">Portfolio</li>
        </ol>
      </nav>
      <h1>Our Portfolio</h1>
    </div>
  </div><!-- End Page Title -->

  <!-- Portfolio List Section -->
  <section id="portfolio" class="portfolio section">
    <div class="container" data-aos="fade-up">

      <div class="row gy-4 portfolio-container">
        {% for item in page_obj %}
          <div class="col-xl-4 col-md-6 portfolio-item">
            <div class="portfolio-wrap">

              <a href="{% url 'portfolio_detail' item.slug %}">
                {% if item.images.first %}
                  <img src="{{ item.images.first.image.url }}" class="img-fluid" alt="{{ item.images.first.alt_text|default:item.title }}">
                {% else %}
                  <img src="{% static 'assets/img/default-portfolio.jpg' %}" class="img-fluid" alt="{{ item.title }}">
                {% endif %}
              </a>

              <div class="portfolio-info">
                <h4>
                  <a href="{% url 'portfolio_detail' item.slug %}">{{ item.title }}</a>
                </h4>
                {% if item.category %}
                  <p>{{ item.category.name }}</p>
                {% endif %}
                <div class="portfolio-links">
                  <a href="{% url 'portfolio_detail' item.slug %}" title="More Details">
                    <i class="bi bi-link-45deg"></i>
                  </a>
                </div>
              </div>

            </div>
          </div>
        {% empty %}
          <p class="text-center">No portfolio projects yet.</p>
        {% endfor %}
      </div>


    </div>
    <br>
    <!-- Pagination -->
        <section id="pagination-2" class="pagination-2 section">
          <div class="container">
            <div class="d-flex justify-content-center">
              <ul>
                {% if page_obj.has_previous %}
                  <li>
                    <a href="?page={{ page_obj.previous_page_number }}">
                      <i class="bi bi-chevron-left"></i>
                    </a>
                  </li>
                {% endif %}

                {% for num in page_obj.paginator.page_range %}
                  {% if page_obj.number == num %}
                    <li><a href="?page={{ num }}" class="active">{{ num }}</a></li>
                  {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
                    <li><a href="?page={{ num }}">{{ num }}</a></li>
                  {% endif %}
                {% endfor %}

                {% if page_obj.has_next %}
                  <li>
                    <a href="?page={{ page_obj.next_page_number }}">
                      <i class="bi bi-chevron-right"></i>
                    </a>
                  </li>
                {% endif %}
              </ul>
            </div>
          </div>
        </section>
        <!-- /Pagination -->
  </section><!-- /Portfolio List Section -->

</main>
{% endblock %}





